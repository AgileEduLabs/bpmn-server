extends layout

block content

		
	div(style="border-bottom: 1px solid #999;padding-bottom: 10px;overflow: hidden;")

		h1(style="float:left;")
			span #{title}

		span(id='Details-block',font-size='10px')
		
	script(type="text/javascript").
		var jsonData={}
		var decorations= !{decorations};	
	script(type="text/javascript").
		$(document).ready(function() {
		  var lines= $('#logs').find('table').find('tr').find('td');
		  lines.each(function(index) {

			  if ($(this).text().startsWith('debug:')) {
				$(this).css("color", "green");
				}
			  if ($(this).text().startsWith('log:Action:')) {
				$(this).css("font-weight", "bold");
				$(this).css("font-size", "14px");
				}
			}); // end each
		  }); // end ready
				
	h4 Instance Information
	table
		tr 
			td name:
			td  #{instance.name}
			td id:
			td #{instance.id}
		tr
			td startAt
			td(class='startDate') #{instance.startAt}
			td endAt
			td #{instance.endAt}
		tr
			td lastAt
			td #{instance.lastAt}
		tr
			td lastItem
			td #{instance.lastItem}
			td last status
			td #{instance.lastStatus}

				
	h4 Instance Data 
	table
		each v in vars
			tr
				td #{v.key}
				td #{v.value}

	div!= svg

	h4 Instance Items
	table
		- let seq=0;
		each item in items
			- var ref = "/invokeItem?id="+item.id+"&processName="+instance.name+"&elementId="+item.elementId;
			- var label='';
			- if (item.status=='wait') label= 'Execute';
			- seq++;
			tr
				td #{seq}
				td #{item.elementId}
				td #{item.name}
				td(class='date') #{item.startedAt}
				td(class='date') #{item.endedAt}
				td #{item.status}
				td #{item.type}
				td
					a(href=`${ref}`) #{label}

	h4 Instance Logs
	div(id="logs")
		table
			each log in logs
				tr
					td #{log}
		
